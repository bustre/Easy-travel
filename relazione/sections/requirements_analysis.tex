\section{Raccolta e analisi dei requisiti}
\subsection{Proprietà del sistema}
%
% Incipit
%
Si vuole realizzare una base di dati per un società che permette di confrontare le offerte fornite da diverse agenzie di viaggio, vogliamo rappresentare: gli utenti, gli acquisti, le agenzie, i pacchetti, le recensioni, gli alloggi, i mezzi di trasporto, le tratte che percorrono i mezzi e le città.
%
% Utenti
%
Gli \textbf{utenti} sono registrati alla piattaforma, sono identificati da un username scelto durante la fase di registrazione al servizio, inoltre vengono memorizzati per ogni utente: il nome, il cognome, la data di nascita, il luogo di nascita, la password, l'email, il numero di telefono, la data di iscrizione al servizio e i punti fedeltà (che permettono di offrire un sconto per la fedeltà del cliente).
%
% Cliente -> Acquisti
%
Gli utenti possono comprare i \textbf{pacchetti} di viaggio forniti dalle \textbf{agenzie di viaggio} identificate nel database attraverso il LEI (un codice internazionale che identifica univocamente le aziende), inoltre viene salvato il nome dell'agenzia e la sua sede legale. Di ogni acquisto effettuato dall'utente viene salvato: la data, il numero di minori e il numero totale (minori compresi) di persone che partecipano al viaggio, il numero di punti fedeltà usati per l'acquisto e quelli ricevuti da ogni acquisto. Un utente non può ricevere punti se fa uso dello sconto.
%
% Pacchetti
%
I pacchetti vengono identificati da un ID assegnato sempre dall'azienda, i pacchetti hanno: un prezzo, ma possono avere uno \textbf{sconto} in cambio di un certo numero di punti che un utente possiede, una disponibilità (cioè quanti posti sono rimasti di disponibili), la data di partenza e ritorno, il numero di persone massime che possono partecipare al viaggio.
%
% Trasporto & tratte
%
Ogni pacchetto offre il servizio di \textbf{trasporto} per andare nelle varie destinazioni e per il ritorno. Per arrivare a destinazione o per il ritorno potrebbe essere necessario prendere più mezzi che percorrono una certa \textbf{tratta}. I mezzi sono identificati attraverso l'azienda che mette a disposizione il veicolo e il codice mezzo utilizzato dall'azienda, essi si dividono in: autobus, aeroplano, treno e nave, per il treno e l'aeroplano viene riportata anche la classe. Le tratte sono identificate dal ID del pacchetto a cui si riferiscono, ogni tratta tiene le seguente informazioni: il mezzo utilizzato per la tratta, l'orario e la data di partenza/arrivo, il luogo di partenza e arrivo.
%
% Destinazioni / descrizione pacchetto & Aloggi
%
Un pacchetto può avere molteplici destinazione (viaggio con più tappe) oppure solo una (classico), inoltre vengono salvati anche gli \textbf{alloggi} che il turista userà durante il viaggio, per ogni alloggio viene fornita una \textbf{descrizione} e il numero di stelle. Gli alloggi vengono identificati dal nome della struttura e dal luogo in cu si trovano.
%
% Città
%
Le destinazioni di un pacchetto, il luogo di partenza/arrivo di ogni tratta, i luoghi dove si trovano i soggiorni per il viaggio e la sede legale di un'agenzia è una \textbf{città} che viene identificata dal proprio nome e dal paese in cui si trova, inoltre se disponibile l'informazione viene salvata la regione in cui si trova. Inoltre ogni luogo di soggiorno ha una descrizione (analoga come i pacchetti).
%
% Recensioni
%
L'utente può scrivere delle \textbf{recensioni} per il pacchetto e per i luoghi di soggiorno, le recensioni sono identificate ID interno all'azienda. Nella recensione vengono salvati il numero di stelle e una testo.
%
% Descrizione
%
Il pacchetto e l'alloggio ha una \textbf{descrizione}, identificata univocamente da un codice interno all'azienda, dove troviamo: un titolo e una descrizione testuale.
%

\subsection{Glossario dei termini}
\begin{tabularx}{\textwidth}{p{0.14\textwidth} X p{0.15\textwidth} p{0.18\textwidth}}
    \toprule
    \textbf{Termine} & \textbf{Descrizione} & \textbf{Sinonimi} & \textbf{Collegamenti} \\
    \midrule
    \textbf{Utente} & Utente iscritto al servizio. Può: confrontare le diverse offerte dei pacchetti di viaggio, comprare i pacchetti e recensire il viaggio & & Pacchetti, Recensioni
    \\\midrule
    \textbf{Pacchetto} & Soluzione di viaggio offerto da un'agenzia di viaggio & Pacchetti di viaggio & Cliente, Recensioni, Città, Soggiorno, Tratte
    \\\midrule
    \textbf{Tratta} & Tratta percorso da un mezzo di trasporto & & Mezzo, Città, Pacchetto
    \\\midrule
    \textbf{Agenzia di viaggio} & Agenzia che offre i pacchetti di viaggio & Agenzia & Pacchetto
    \\\midrule
    \textbf{Azienda} & Compagnia che offre il servizio e che ha richiesto lo sviluppo della database & Richiedente &
    \\\midrule
    \textbf{Recensione} & Giudizio del cliente testuale e mediante una scala di valori & & Soggiorno, Pacchetto
    \\\midrule
    \textbf{Descrizione} & Descrizione testuale di un servizio, formata da un titolo e da un testo & & Pacchetto, Soggiorno
    \\\midrule
    \textbf{Mezzo} & Mezzo di trasporto che l'agenzia include nel pacchetto per l'andata/ritorno & Mezzo di trasporto, trasporto, servizio di trasporto & Pacchetto, Città
    \\\midrule
    \textbf{Alloggio} & Dimora temporanea per il viaggio & & Città, Pacchetto, Descrizione, Recensione
    \\\midrule
    \textbf{Sconto} & Sconto applicabile al prezzo originale del pacchetto, può presentare dei requisti per essere applicato & & Pacchetto
    \\
    \bottomrule
\end{tabularx}

\subsection{Operazioni}
Nel caso d'uso perso in esame le operazioni effettuate non hanno un andamento continuo, ma presentano l'azienda registra un numero di richieste molto alto durante i periodi di vacanza, mentre il numero di richieste diminuisce sensibilmente durante periodi meno adatti alle vacanze. Le operazioni sono riporta in seguito:
\begin{tabularx}{\textwidth}{X X p{0.1\textwidth}}
    \toprule
    \textbf{Operazione} & \textbf{Descrizione dell'operazione} & \textbf{Q.tà}
    \\
    \midrule
    \emph{Inserimento pacchetto} & Inserimento di un pacchetto da parte di una agenzia & 10 volte al giorno
    \\
    \emph{Inserimento mezzo} & Inserimento nuovo mezzo per un viaggio & 2 volte al mese
    \\
    \emph{} & &
    \\
    \bottomrule
\end{tabularx}