% !TeX spellcheck = it_IT
\section{Raccolta e analisi dei requisiti}
\subsection{Proprietà del sistema}

%
% Utenti 
%
Gli \textbf{utenti} che sono registrati alla piattaforma vengono identificati da uno \underline{username} scelto durante la fase di registrazione al servizio, inoltre vengono memorizzati per ogni utente: la password, l'email e la data di iscrizione al servizio.
%
% Utente -> Cliente
%
All'interno del sistema esistono due tipologie di utenti: i \emph{clienti} e le \emph{agenzie}. Di ogni \textbf{cliente} vengono salvate delle informazioni aggiuntive: il nome, il cognome, la data di nascita, il sesso, e facoltativamente il numero di telefono. Mentre per ogni \textbf{agenzia} presente nel database viene salvato in aggiunta: il nome e la sede legale con l'indirizzo.

%
% Clienti -> pacchetti
%
I clienti possono prenotare i pacchetti di viaggio forniti dalle agenzie. Per ogni \textbf{prenotazione} ci interessano le seguente informazioni: il cliente che ha eseguito la prenotazione, il timestamp dell'operazione, il numero di persone che partecipano alla vacanza e la transizione del pagamento.
%
% Pagamento -> transizione
%
Ogni \textbf{transizione} viene identificata da un \underline{codice} e riporta i seguenti dati: la banca dove è avvenuto il pagamento, l'importo, il circuito bancario usato e l'ora con la data della avvenuta transizione.
%
% Pacchetti
%
I \textbf{pacchetti} vengono identificati attraverso un \underline{ID} e sono inseriti nel sistema dalle agenzie, inoltre ogni soluzione di viaggio deve riportare le seguente informazioni:
\begin{multicols}{3}
\begin{itemize}
    \item il prezzo\footnote{Per ogni singola persona.},
    \item la disponibilità\footnote{Numero di pacchetti ancora disponibili; non va confuso col il numero di partecipanti.},
    \item la data di partenza e di ritorno,
    \item il massimo numero di partecipanti\footnote{Il numero di persone massime che ammette un pacchetto di viaggio per un solo acquisto.},
    \item una descrizione del viaggio,
    \item le informazioni dei vari soggiorni,
    \item le varie tratte da fare per arrivare e tornare,
    \item l'assicurazione per il viaggio.
\end{itemize}
\end{multicols}
Ogni viaggio può fare riferimento ad una \textbf{polizza} assicurativa che viene distinta attraverso un \underline{ID}, inoltre viene salvata: una descrizione della polizza e il nome dell'agenzia di assicurazione.
%
% Soggiorno
%
Un pacchetto può fornire più \emph{alloggi} (se si tratta di un viaggio a tappe), oppure può fornire un singolo alloggio per tutta la durata della vacanza (classico). Di ogni alloggio vengono riportate le \textbf{informazioni di soggiorno} che riportano: l'inizio e la fine del pernottamento, le informazione sulla struttura, le camere assegnate e la tipologia di camera. 

%
% Trasporto & tratte
%
Ogni pacchetto comprende già i mezzi da prendere per andare nelle varie destinazioni e per il ritorno, ogni mezzo percorre una tratta. I \textbf{mezzi di trasporto} riportano le seguenti informazioni: l'azienda che mette a disposizione il veicolo e il codice mezzo utilizzato dall'azienda. Vengono registrati per ogni \emph{tipologia} di mezzo le seguenti informazioni:
l'\textbf{autobus} riporta il numero di linea,
il \textbf{Treno} e la \textbf{Nave} riportano la classe,
l'\textbf{aereo} riporta:
la classe,
il check-in\footnote{Informazioni per il Check-in.},
bagaglio in stiva\footnote{Viene indicato se è incluso nel pacchetto.},
bagaglio a mano\footnote{Viene riportato il peso concesso.},
il \textbf{Taxi} riporta il numero di telefono.
%
% Tratta
%
Di ogni \textbf{tratta} viene salvato:
\begin{multicols}{3}
    \begin{itemize}
        \item il mezzo;
        \item l'ora di partenza;
        \item la data di partenza;
        \item orario di arrivo;
        \item data di arrivo;
        \item luogo di partenza;
        \item luogo di arrivo.
    \end{itemize}
\end{multicols}

%
% Destinazioni / descrizione pacchetto & Aloggi
%
Un pacchetto può avere molteplici destinazione oppure solo una destinazione, inoltre vengono salvati anche gli \textbf{alloggi} dove il cliente soggiornerà durante il viaggio, per ogni alloggio viene identificato dalla \underline{città} in cui si trova e dal suo \underline{nome}, inoltre viene fornita una descrizione, la tipologia di alloggio\footnote{Esempio: Hotel, bed and breakfast, eccetera.} e il numero di stelle (da 0 a 5) dell'alloggio se disponibili. Gli alloggi vengono identificati dal \underline{nome} della struttura e dal \underline{luogo} in cu si trovano.
%
% Città
%
Le destinazioni di un pacchetto, il luogo di partenza/arrivo di ogni tratta, i luoghi dove si trovano i soggiorni per il viaggio e la sede legale di un'agenzia sono delle \emph{città}. Una \textbf{città} viene identificata da un \underline{codice interno}, vengono riportate le seguente informazioni: nome della città e nome del stato in cui si trova.

%
% Recensioni
%
L'utente può scrivere delle \textbf{recensioni} per ogni pacchetto viaggio che ha acquistato e per l'alloggio che ha fornito la soluzione, le recensioni sono identificate da un \underline{ID}. Nella recensione viene salvato un giudizio su una scala da 0 a 5 e una motivazione che può essere facoltativa.
%
% Descrizione
%
Il pacchetto e l'alloggio devono avere una \textbf{descrizione} identificata univocamente da un \underline{codice}, dove troviamo: un titolo e una descrizione testuale.



\subsection{Glossario dei termini}
\begin{center}
    \begin{tabularx}{\textwidth}{p{0.16\textwidth} X >{\raggedright\arraybackslash}p{0.13\textwidth} >{\raggedright\arraybackslash}p{0.20\textwidth}}
        \caption{Dizionario termini}\\\toprule\endfirsthead
        \toprule\endhead
        \midrule\multicolumn{4}{r}{\itshape Continua nella pagina successiva}\\\midrule\endfoot
        \bottomrule\endlastfoot
        %
        %
        %
        \textbf{Termine} & \textbf{Descrizione} & \textbf{Sinonimi} & \textbf{Collegamenti} \\
        \midrule
        \textbf{Utente} & Utente generico iscritto al sistema. & &
        \\\midrule
        \textbf{Cliente} & Utente iscritto al servizio. & & Recensione, Prenotazione
        \\\midrule
        \textbf{Agenzia} & Utente iscritto nel sistema che può offrire dei pacchetti viaggio. & & Pacchetto Viaggio, Città
        \\\midrule
        \textbf{Pacchetto} & Soluzione di viaggio offerto da un'agenzia & Pacchetto di viaggio & Prenotazione, Recensione, Informazioni soggiorno, Polizza, Descrizione, Tratta
        \\\midrule
        \textbf{Informazioni Soggiorno} & Informazioni sulle camere e la struttura ospitante per le vacanze & & Pacchetto, Alloggio, Camere
        \\\midrule
        \textbf{Camere} & Camere da letto assegnate al cliente & & Informazioni soggiorno
        \\\midrule
        \textbf{Prenotazione} & Comprare un pacchetto di viaggio & Acquisto, comprare & Cliente, Pacchetto Viaggio
        \\\midrule
        \textbf{Tratta} & Tratta percorsa da un mezzo di trasporto & & Mezzo Trasporto, Città, Pacchetto di Viaggio
        \\\midrule
        \textbf{Recensione} & Giudizio del cliente testuale e numerico basato su una scala da 0 a 5 & & Cliente, Agenzia, Pacchetto 
        \\\midrule
        \textbf{Descrizione} & Descrizione testuale di un servizio, formata da un titolo e da un testo & & Pacchetto, Alloggio
        \\\midrule
        \textbf{Mezzo} & Mezzo di trasporto che l'agenzia include nel pacchetto per l'andata/ritorno & Mezzo di trasporto, trasporto, servizio di trasporto & Tratta
        \\\midrule
        \textbf{Alloggio} & Dimora per il viaggio & & Città, Informazioni soggiorno, Descrizione
        \\
    \end{tabularx}
\end{center}

\subsection{Operazioni}
Nel caso d'uso perso in esame il numero di operazioni effettuate non hanno una distribuzione uniforme durante tutto l'anno, ma alcune operazioni in particolare presentano un numero di richieste maggiore durante i periodi di vacanza, cioè durante i periodi di \emph{massimo carico} per il sistema, mentre in altri periodi ci sono momenti di \emph{idle}. Riportiamo di seguito le operazioni considerando il massimo delle operazioni registrare per un certo periodo, dato che in contesti come questi la priorità è che il sistema riesca a soddisfare tutte le richieste.
\newline
\begin{center}
    \begin{tabularx}{\textwidth}{L X >{\centering\arraybackslash}p{0.22\textwidth}}
        \caption{Tabella delle operazioni}\\\toprule\endfirsthead
        \toprule\endhead
        \midrule\multicolumn{3}{r}{\itshape Continua nella pagina successiva}\\\midrule\endfoot
        \bottomrule\endlastfoot
        %
        %
        \textbf{Operazione} & \textbf{Descrizione dell'operazione} & \textbf{N°. operazioni}
        \\
        && (\textbf{operazioni/tempo})\footnote{Riportiamo le misure di tempo: \textbf{dd} = giorni, \textbf{mm} = mesi e \textbf{yy} = anni.}
        \\\midrule
        \emph{Inserimento pacchetto} & Inserimento di un pacchetto da parte di una agenzia & 10 o/dd
        \\\midrule
        \emph{Inserimento descrizione} & Inserimento di una descrizione per un pacchetto o per un luogo di soggiorno & 15 o/dd
        \\\midrule
        \emph{Inserimento mezzo} & Inserimento nuovo mezzo per un viaggio & 2 o/mm
        \\\midrule
        \emph{Iscrizione utente} & Un utente si iscrive al servizio & 40 o/dd
        \\\midrule
        \emph{Inserimento recensione} & Un utente aggiunge una recensione & 3.000 o/mm
        \\\midrule
        \emph{Ricerca pacchetti} & Ricerca dei pacchetti da parte degli utenti & 600.000 o/dd
        \\\midrule
        \emph{Inserimento agenzia} & Viene aggiunta una nuova agenzia & 3 o/mm
        \\\midrule
        \emph{Inserimento città} & Viene aggiunta una nuova città & 10 o/yy
        \\\midrule
        \emph{Acquisto pacchetto} & Un cliente acquista un pacchetto & 100.000 o/gg
        \\\midrule
        \emph{Visualizzazione degli acquisti} & Un cliente vuole visualizzare gli acquisti passati & 90 o/gg
        \\
    \end{tabularx}
\end{center}